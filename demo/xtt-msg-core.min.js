!function(t){"use strict";class e extends HTMLElement{#t(){const t=document.createElement("template");return t.innerHTML=this.constructor.templateContent,t.content.cloneNode(!0)}constructor(){super();const t=this.attachShadow({mode:"open"});this.constructor.stylesContent&&(t.adoptedStyleSheets=this.constructor.stylesContent),this.constructor.templateContent&&t.appendChild(this.#t())}}let n;try{n=new CSSStyleSheet,n.replaceSync(':host{\n\t--tooltip-max-width:300px;\n\t--tooltip-font-size:14px;\n\t--tooltip-z-index:99999;\n\t--tooltip-bg-color:#fff;\n\t--tooltip-border-color:grey;\n}\n\n:host{\n\tdisplay:contents;\n\tposition:absolute;\n\ttop:-9999px;\n\tleft:-9999px;\n}\n\n#popover{\n\tvisibility:hidden;\n\tposition:fixed;\n\tpadding:4px 8px;\n\tmax-width:var(--tooltip-max-width);\n\tfont-size:var(--tooltip-font-size);\n\tz-index:var(--tooltip-z-index);\n\tborder:thin solid var(--tooltip-border-color);\n\tbackground-color:var(--tooltip-bg-color);\n\ttransform-origin:bottom center;\n}\n\n#popover[open]{\n\tvisibility:visible;\n\tanimation:show 0.2s ease-out;\n}\n\n@keyframes show{\n\t0%{\n\t\topacity:0;\n\t\ttransform:scale(0.4);\n\t}\n\t100%{\n\t\topacity:1;\n\t\ttransform:scale(1);\n\t}\n}\n#popover::before{\n\tcontent:"";\n\tposition:absolute;\n\tinset:-10px 0;\n\topacity:0;\n\tz-index:-1;\n}\n')}catch(t){console.error("Constructable Stylesheets are not supported in your environment. Please consider a polyfill, e.g. https://www.npmjs.com/package/construct-style-sheets-polyfill")}var o=n;const i=t=>(t.id||(t.id="xttId"+ ++i.uId),t);i.uId=0;const r=(t,e,n)=>{const o=t.getAttribute(e);let r=o?o.split(" "):[];if(n.length)for(let t=0;t<n.length;t++){const e=i(n[t]).id;r.includes(e)||r.push(e)}else if(1===n?.nodeType){const t=i(n).id;r.includes(t)||r.push(t)}return t.setAttribute(e,r.join(" ")),t},s=(t,e,n)=>{if(t?.nodeType!==Node.ELEMENT_NODE)throw new TypeError("element is not a ELEMENT_NODE");if("object"==typeof e)for(const n in e)Object.hasOwnProperty.call(e,n)&&t.style.setProperty(n,e[n]);else if("string"==typeof e){if(void 0===n)return t.style.getPropertyValue(e)||getComputedStyle(t).getPropertyValue(e);t.style.setProperty(e,n)}return t},l=(t,e,n,o,i)=>{let r="block-start"===n?t.top-e.height-o:t.bottom+o,s=t.left+t.width/2-e.width/2;return s<i?s=i:s+e.width+i>visualViewport.width&&(s=0-i),{top:r,[s>=0?"left":"right"]:Math.abs(s),overFlow:"block-start"===n?r<i:r+e.height+i>visualViewport.height}};customElements.define("xtt-tooltip",class extends e{static templateContent='<div id="popover" part="popover"></div>';static stylesContent=[o];viewPadding=8;delay=600;static get observedAttributes(){return["for"]}connectedCallback(){this.role="tooltip",this.textContent=this.textContent.trim(),i(this)}attributeChangedCallback(t,e,n){"for"===t&&this.initTrigger(document.querySelectorAll(n))}get#e(){return this.shadowRoot.getElementById("popover")}#n=!1;#o=!1;#i(t){const e=(n,o)=>{"mouseleave"!==n?.type||o?"mouseleave"===n?.type&&this.#o||(this.hide(),t.removeEventListener("pointerdown",e,{once:!0}),t.removeEventListener("keydown",e,{once:!0}),t.removeEventListener("blur",e,{once:!0}),document.removeEventListener("scroll",e,{once:!0})):setTimeout((()=>{e(n,!0)}),0)},n=n=>{this.show(n.currentTarget??n.target),t.addEventListener("pointerdown",e,{once:!0}),t.addEventListener("keydown",e,{once:!0}),t.addEventListener("blur",e,{once:!0}),document.addEventListener("scroll",e,{once:!0})};t.addEventListener("mouseenter",(t=>{this.#o=!0,n(t)})),t.addEventListener("mouseleave",(t=>{this.#o=!1,e(t)})),t.addEventListener("focus",n),this.#n||(this.#e.addEventListener("mouseenter",(()=>{this.#o=!0})),this.#e.addEventListener("mouseleave",(t=>{this.#o=!1,e(t)})),this.#n=!0)}#r(t){const e="labelledby"===t.dataset.ariaType?"aria-labelledby":"aria-describedby";r(t,e,this),this.#i(t),t.xttTooltipElement=this}initTrigger(t){t instanceof NodeList?t.forEach(this.#r,this):1===t?.nodeType&&this.#r(t)}refreshTooltipContent(t){t.dataset.xttTooltip&&(this.textContent=t.dataset.xttTooltip)}#s;show(t){if(this.#e.hasAttribute("open"))return!1;if(!t.dispatchEvent(new CustomEvent("xtt-tooltip-show",{detail:{tooltip:this},bubbles:!1,cancelable:!0})))return!1;this.refreshTooltipContent(t),((t,e,n,o)=>{const{viewPadding:i=8,margin:r=8}=o||{};n=n||["block-start","block-end"];const a=t.getBoundingClientRect(),d=e.getBoundingClientRect();let h;for(const t of n)if(t.startsWith("block")&&(h=l(a,d,t,r,i)),!h.overFlow)break;s(e,Object.assign({top:h.top?h.top+"px":"",bottom:h.bottom?h.bottom+"px":"",left:h.left?h.left+"px":"",right:h.right?h.right+"px":""}))})(t,this.#e,["block-start","block-end"]),this.#s=setTimeout((()=>{this.#e.setAttribute("open",!0)}),this.delay??16)}hide(){this.#s&&(clearTimeout(this.#s),this.#s=null),this.#e.removeAttribute("open")}get textContent(){return this.#e.textContent||super.textContent}set textContent(t){this.#e.textContent=t,this.ariaLabel=t.trim()}});class a extends e{observeOptions={childList:!0};#l;constructor(){super(),this.#l=new MutationObserver((t=>{t.forEach((t=>{"childList"===t.type&&(t.addedNodes.forEach((t=>{this._reflectElementAdded(t),t.nodeType===Node.ELEMENT_NODE?this._reflectElementNodeAdded(t):t.nodeType===Node.TEXT_NODE&&this._reflectElementTextAdded(t)})),t.removedNodes.forEach((t=>{this._reflectElementRemoved(t),t.nodeType===Node.ELEMENT_NODE?this._reflectElementNodeRemoved(t):t.nodeType===Node.TEXT_NODE&&this._reflectElementTextRemoved(t)})))}))}))}connectedCallback(){this.#l.observe(this,this.observeOptions)}disconnectedCallback(){this.#l.disconnect()}_reflectElementAdded(){}_reflectElementRemoved(){}_reflectElementNodeAdded(){}_reflectElementTextAdded(){}_reflectElementNodeRemoved(){}_reflectElementTextRemoved(){}}let d;try{d=new CSSStyleSheet,d.replaceSync(':host{\n\t--button-primary-color:hsl(195deg 100% 50%);\n\t--button-primary-light-color:hsl(195deg, 100%, 65%);\n\t--button-primary-dark-color:hsl(195deg, 100%, 40%);\n\n\t--button-bg-color:transparent;\n\t--button-font-color:inherit;\n\t--button-padding:4px 10px;\n\t--button-border-color:silver;\n\t--button-border-radius:4px;\n\t--button-focus-outline:thin dotted #000000;\n\t--button-column-gap:8px;\n\n\t--button-line-clamp:1;\n\n\t--button-bg-color-hover:transparent;\n\t--button-font-color-hover:hsl(195deg 100% 50%);\n\t--button-border-color-hover:hsl(195deg 100% 50%);\n}\n:host([type="primary"]){\n\t--button-bg-color:var(--button-primary-color);\n\t--button-bg-color-hover:var(--button-primary-light-color);\n\t--button-font-color:white;\n\t--button-border-color:var(--button-primary-color);\n\t--button-focus-outline:thin dotted var(--button-primary-color);\n\t--button-font-color-hover:white;\n\n\t--button-bg-color-active:var(--button-primary-dark-color);\n}\n:host([type="base"]){\n\t--button-bg-color:transparent;\n\t--button-bg-color-hover:transparent;\n\t--button-font-color-hover:inherit;\n\t--button-border-color-hover:silver;\n}\n:host([text]){\n\t--button-bg-color:transparent;\n\t--button-font-color:inherit;\n\n\t--button-bg-color-hover:hsl(216 33% 95%);\n\t--button-font-color-hover:inherit;\n\n\t--button-bg-color-active:hsl(216 33% 90%);\n}\n:host([text][type="primary"]){\n\t--button-font-color:var(--button-primary-color);\n\t--button-font-color-hover:var(--button-primary-color);\n}\n:host([size="large"]){\n\t--button-padding:8px 15px;\n}\n\n:host(:focus){\n\toutline:var(--button-focus-outline, thin dotted grey);\n\toutline-offset:1px;\n}\n\n:host{\n\tdisplay:inline-flex;\n\tbox-sizing:border-box;\n\tborder:thin solid;\n\tcursor:pointer;\n\toverflow-wrap:break-word;\n\tmax-width:100%;\n\tfont-size:inherit;\n\tborder-radius:var(--button-border-radius, 4px);\n\tpadding:var(--button-padding, 4px 10px);\n\tcolumn-gap:var(--button-column-gap, 8px);\n\tbackground-color:var(--button-bg-color, transparent);\n\tborder-color:var(--button-border-color, silver);\n\tcolor:var(--button-font-color, inherit);\n\ttransition:background-color 0.2s;\n}\n:host([disabled]){\n\tpointer-events:none;\n\topacity:0.5;\n}\n\n:host([text]){\n\tborder:none;\n}\n@media (hover: hover){\n\t:host(:hover){\n\t\tbackground-color:var(--button-bg-color-hover);\n\t\tborder-color:var(--button-border-color-hover, silver);\n\t\tcolor:var(--button-font-color-hover, inherit);\n\t}\n}\n\n:host(:active){\n\tbackground-color:var(--button-bg-color-active, transparent);\n}\n\n:host([block]){\n\tdisplay:flex;\n\twidth:100%;\n\tjustify-content:center;\n}\n\n#text{\n\tdisplay:-webkit-box;\n\t-webkit-box-orient:vertical;\n\t-webkit-line-clamp:var(--button-line-clamp, 1);\n\toverflow:hidden;\n\ttext-align:start;\n}\n:host(.no-icon) #icon,\n:host(.no-text) #text{\n\tdisplay:none;\n}\n')}catch(t){console.error("Constructable Stylesheets are not supported in your environment. Please consider a polyfill, e.g. https://www.npmjs.com/package/construct-style-sheets-polyfill")}var h=d;let c;customElements.define("xtt-button",class extends a{static templateContent='<span part="icon" id="icon" aria-hidden="true">\r\n\t<slot name="icon"></slot>\r\n</span>\r\n<span part="text" id="text">\r\n\t<slot></slot>\r\n</span>\r\n';static stylesContent=[h];static get observedAttributes(){return["disabled","line","data-xtt-tooltip","data-aria-type"]}observeOptions={childList:!0,subtree:!0};#a;constructor(){super(),this.#a=document.createElement("xtt-tooltip"),this.#a.textContent=this.textContent,(this.closest("body")||this.getRootNode()).appendChild(this.#a),this.addEventListener("xtt-tooltip-show",(t=>{if(this.dataset.xttTooltip)return;const e=document.createElement("span");this.#d.querySelector("slot").assignedNodes().forEach((t=>{e.appendChild(t.cloneNode(!0))})),s(e,{position:"absolute",top:"-9999px",left:"-9999px","font-size":window.getComputedStyle(this.#d).fontSize,"max-width":this.#d.offsetWidth+"px"}),this.appendChild(e),e.offsetHeight<=this.#d.offsetHeight&&t.preventDefault(),e.remove()}))}connectedCallback(){super.connectedCallback(),this.role="button",this.hasAttribute("tabindex")||(this.tabIndex=0),this.#h(),this.#a.initTrigger(this),this.#c(),this.hasAttribute("autofocus")&&this.focus()}attributeChangedCallback(t,e,n){"disabled"===t?this.tabIndex=null!==n?-1:0:"data-xtt-tooltip"===t?this.#a.refreshTooltipContent(this):"line"===t&&this.style.setProperty("--button-line-clamp",Number(n))}#c(){let t=Array.from(this.labels);t.length&&r(this,"aria-labelledby",t)}_reflectElementAdded(){this.#h()}_reflectElementRemoved(){this.#h()}#h(){let t=!1,e=!1;if(this.hasChildNodes()){this.classList.remove("no-icon","no-text");const n=this.childNodes;if(this.querySelector(':scope > [slot="icon"]'))t=!0;else{let e=n[0];e?.nodeType!==Node.TEXT_NODE||e?.textContent.trim()||(e=n[1]),("XTT-ICON"===e?.tagName||e?.classList?.has?.("xtt-icon"))&&(t=!0,e.slot="icon")}for(const t of n)if("icon"!==t.slot&&t.textContent.trim()){e=!0;break}}t||this.classList.add("no-icon"),e||this.classList.add("no-text"),this.dataset.xttTooltip||(this.#a.textContent=this.textContent)}get#p(){return this.shadowRoot.getElementById("icon")}get#d(){return this.shadowRoot.getElementById("text")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){this.toggleAttribute("disabled",t)}get labels(){return this.id?this.getRootNode().querySelectorAll(`label[for="${this.id}"]`):document.createElement(null).childNodes}});try{c=new CSSStyleSheet,c.replaceSync(":host{\n\t--text-edit-padding:5px 8px;\n\t--text-edit-border-color:silver;\n\t--text-edit-focus-outline:thin solid hsl(195deg 100% 50%);\n\t--text-edit-font-size:14px;\n}\n\n:host{\n\tdisplay:block;\n\tbox-sizing:border-box;\n\twidth:100%;\n\theight:auto;\n\tborder:thin solid;\n\tline-height:1.5;\n\twhite-space:pre-wrap;\n\toverflow:auto;\n\tfont-size:var(--text-edit-font-size, 14px);\n\tborder-color:var(--text-edit-border-color, silver);\n\tpadding:var(--text-edit-padding);\n}\n\n:host(:focus){\n\toutline:var(--text-edit-focus-outline);\n}\n")}catch(t){console.error("Constructable Stylesheets are not supported in your environment. Please consider a polyfill, e.g. https://www.npmjs.com/package/construct-style-sheets-polyfill")}var p=c;customElements.define("xtt-text-edit",class extends e{static templateContent="<slot></slot>";static stylesContent=[p];static observeOptions={childList:!0};static get observedAttributes(){return["readonly","rows","autosize","maxlength","minlength"]}constructor(){super()}connectedCallback(){this.toggleAttribute("contenteditable","plaintext-only"),this.tabIndex=1}attributeChangedCallback(t,e,n){"readonly"===t?this.removeAttribute("contenteditable"):"rows"===t&&this.#u(n)}#u=t=>{const e=this,n=document.createElement("div");this.shadowRoot.appendChild(n),s(n,{"letter-spacing":s(e,"letter-spacing"),"line-height":s(e,"line-height"),"font-family":s(e,"font-family"),"font-size":s(e,"font-size"),"font-weight":s(e,"font-weight"),"padding-block-start":s(e,"padding-block-start"),"padding-block-end":s(e,"padding-block-end"),"padding-inline-start":s(e,"padding-inline-start"),"padding-inline-end":s(e,"padding-inline-end"),"border-block-start-width":s(e,"border-block-start-width"),"border-block-end-width":s(e,"border-block-end-width"),"white-space":"pre-wrap","box-sizing":s(e,"box-sizing"),position:"absolute",top:"-9999px",left:"-9999px",visibility:"hidden",width:"100px",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":t,overflow:"hidden"}),n.innerHTML="lorem ipsum".repeat(100);const o=parseInt(s(e,"border-block-start-width"))+parseInt(s(e,"border-block-end-width")),i=n.offsetHeight+o;n.remove(),this.style.height=i+"px"};get value(){return this.textContent}set value(t){this.textContent=t}});let u;try{u=new CSSStyleSheet,u.replaceSync(":host{\n\tdisplay:flex;\n\tfont-size:14px;\n}\n\n#left{\n\twidth:calc((100% - 100px) / 5 * 3);\n}\n\n#right{\n\twidth:calc((100% - 100px) / 5 * 2);\n\tborder:thin solid silver;\n\tpadding:4px 8px;\n}\n\n#right .heimu{\n\tbackground-color:currentColor;\n}\n#right .heimu:hover{\n\tbackground-color:transparent;\n}\n\n#center{\n\twidth:100px;\n\tdisplay:flex;\n\talign-content:center;\n\tjustify-content:center;\n\tflex-wrap:wrap;\n\tcolor:#4fc1ff;\n}\n\n:host ::-webkit-scrollbar{\n\twidth:5px;\n\theight:5px;\n\tmargin:5px 0;\n}\n:host ::-webkit-scrollbar-thumb{\n\tmargin:5px 0;\n\tborder-radius:15px;\n\tbackground-image:linear-gradient(#c9d1d9, #c9d1d9);\n}\n:host ::-webkit-scrollbar-track{\n\tmargin:5px 0;\n\tborder-radius:15px;\n}\n\n:host ::highlight(xtt-highlight){\n\tcolor:#ce9178;\n}\n")}catch(t){console.error("Constructable Stylesheets are not supported in your environment. Please consider a polyfill, e.g. https://www.npmjs.com/package/construct-style-sheets-polyfill")}var b=u;customElements.define("xtt-msg",class extends a{static templateContent='<xtt-text-edit id="left" rows="3"></xtt-text-edit>\r\n<div id="center">\r\n\t<xtt-button id="run">执行</xtt-button>\r\n\t<span id="time"></span>\r\n</div>\r\n<div id="right"></div>\r\n';static stylesContent=[b];constructor(){super(),this.#b.addEventListener("click",(()=>{this.#g()}));const t=((t,e)=>{let n=null,o=!1;const i=(...r)=>{o?n=r:(o=!0,t(...r),setTimeout((()=>{if(o=!1,null!==n){const t=n;n=null,i(...t)}}),e))};return i})(this.#m.bind(this),500);this.#v.addEventListener("input",t)}connectedCallback(){super.connectedCallback(),this.#v.textContent=this.textContent,this.#g(),this.#m()}_reflectElementAdded(){this.#v.textContent=this.textContent,this.#g(),this.#m()}#x=[];#m(){if(!CSS.highlights)return;const t=this.#v.childNodes,e=[];let n;t.forEach((t=>{for(const n of t.nodeValue.matchAll(/!\[[^\]]+\]|-->>/g)){const o=new Range;o.setStart(t,n.index),o.setEnd(t,n.index+n[0].length),e.push(o)}})),CSS.highlights.has("xtt-highlight")?(n=CSS.highlights.get("xtt-highlight"),this.#x.length&&this.#x.forEach((t=>n.delete(t))),e.forEach((t=>n.add(t)))):n=new Highlight(...e),CSS.highlights.set("xtt-highlight",n),this.#x=e}async#g(){const e=Date.now(),n=this.#v.value;n&&(console.time(n),this.#f.innerHTML=await t.replace(n),console.timeEnd(n),this.#y.textContent="用时: "+(Date.now()-e)+"ms")}get#b(){return this.shadowRoot.querySelector("#run")}get#v(){return this.shadowRoot.querySelector("#left")}get#f(){return this.shadowRoot.querySelector("#right")}get#y(){return this.shadowRoot.querySelector("#time")}})}(xttMsg);
